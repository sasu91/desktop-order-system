{
  "$schema": "holidays-schema",
  "description": "Holidays and closures configuration for desktop-order-system",
  
  "holidays": [
    {
      "name": "Santo Patrono (esempio Milano)",
      "scope": "store",
      "effect": "both",
      "type": "fixed",
      "params": {
        "month": 12,
        "day": 7
      },
      "comment": "Sant'Ambrogio - festività locale (adattare al proprio patrono)"
    },
    {
      "name": "Chiusura estiva negozio",
      "scope": "store",
      "effect": "both",
      "type": "range",
      "params": {
        "start": "2026-08-10",
        "end": "2026-08-20"
      },
      "comment": "Chiusura ferie estive - esempio di range"
    },
    {
      "name": "Inventario annuale",
      "scope": "warehouse",
      "effect": "no_receipt",
      "type": "single",
      "params": {
        "date": "2026-12-31"
      },
      "comment": "Magazzino chiuso per inventario (può ordinare, non ricevere)"
    },
    {
      "name": "Chiusura fornitore",
      "scope": "supplier",
      "effect": "no_order",
      "type": "range",
      "params": {
        "start": "2026-07-20",
        "end": "2026-08-05"
      },
      "comment": "Fornitore chiuso (non può ordinare, può ricevere ordini precedenti)"
    }
  ],
  
  "_notes": {
    "automatic_holidays": [
      "Le festività nazionali italiane sono automatiche:",
      "- Capodanno (1 gen), Epifania (6 gen), Pasqua (variabile)",
      "- Lunedì dell'Angelo (Pasquetta, variabile), Liberazione (25 apr)",
      "- Festa del Lavoro (1 mag), Festa della Repubblica (2 giu)",
      "- Ferragosto (15 ago), Ognissanti (1 nov)",
      "- Immacolata (8 dic), Natale (25 dic), S.Stefano (26 dic)"
    ],
    "scope_values": [
      "system: festività nazionali (automatiche + override da config)",
      "store: chiusure negozio/punto vendita",
      "warehouse: chiusure magazzino/deposito",
      "supplier: chiusure fornitore"
    ],
    "effect_values": [
      "both: blocca ordini E ricezione",
      "no_order: blocca solo ordini (può ricevere)",
      "no_receipt: blocca solo ricezione (può ordinare)"
    ],
    "type_values": [
      "fixed: ricorrenza annuale (month/day), es. patrono",
      "range: intervallo date (start/end ISO), es. ferie",
      "single: data singola (date ISO), es. inventario"
    ],
    "precedence": [
      "Le regole da config PREVALGONO sugli effetti delle festività italiane automatiche",
      "per la stessa data. Es: se Natale in config ha effect=no_order,",
      "sovrascrive il default both delle festività di sistema."
    ],
    "validation": [
      "Date ISO: YYYY-MM-DD obbligatorio",
      "Range: start <= end verificato",
      "Fixed: month [1-12], day [1-31] verificato",
      "Se file manca o invalido: fallback a sole festività italiane (no crash)"
    ]
  }
}
