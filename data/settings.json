{
  "reorder_engine": {
    "lead_time_days": {
      "value": 7,
      "auto_apply_to_new_sku": true
    },
    "min_stock": {
      "value": 10,
      "auto_apply_to_new_sku": true
    },
    "days_cover": {
      "value": 14,
      "auto_apply_to_new_sku": true
    },
    "moq": {
      "value": 1,
      "auto_apply_to_new_sku": true
    },
    "max_stock": {
      "value": 999,
      "auto_apply_to_new_sku": true
    },
    "reorder_point": {
      "value": 10,
      "auto_apply_to_new_sku": true
    },
    "demand_variability": {
      "value": "STABLE",
      "auto_apply_to_new_sku": true
    },
    "oos_boost_percent": {
      "value": 20,
      "description": "Percentuale di aumento ordine per OOS (%)"
    },
    "oos_lookback_days": {
      "value": 30,
      "description": "Giorni di storico per rilevamento OOS"
    },
    "oos_detection_mode": {
      "value": "strict",
      "description": "Modalit\u00e0 rilevamento OOS: strict (on_hand=0) o relaxed (on_hand+on_order=0)"
    },
    "forecast_method": {
      "value": "simple",
      "auto_apply_to_new_sku": true,
      "description": "Metodo forecast globale: simple (level+DOW) o monte_carlo"
    },
    "pack_size": {
      "value": 1,
      "auto_apply_to_new_sku": true
    },
    "review_period": {
      "value": 7,
      "auto_apply_to_new_sku": true
    },
    "safety_stock": {
      "value": 0,
      "auto_apply_to_new_sku": true
    }
  },
  "monte_carlo": {
    "distribution": {
      "value": "empirical",
      "auto_apply_to_new_sku": true,
      "description": "Distribuzione MC: empirical (bootstrap storico), normal, lognormal, residuals"
    },
    "n_simulations": {
      "value": 1000,
      "auto_apply_to_new_sku": true,
      "description": "Numero simulazioni Monte Carlo"
    },
    "random_seed": {
      "value": 42,
      "auto_apply_to_new_sku": true,
      "description": "Seed deterministico per riproducibilit\u00e0 (0 = random)"
    },
    "output_stat": {
      "value": "mean",
      "auto_apply_to_new_sku": true,
      "description": "Statistica output MC: mean (media) o percentile"
    },
    "output_percentile": {
      "value": 80,
      "auto_apply_to_new_sku": true,
      "description": "Percentile output se output_stat=percentile (50-99)"
    },
    "horizon_mode": {
      "value": "auto",
      "auto_apply_to_new_sku": true,
      "description": "Calcolo orizzonte: auto (lead_time+review_period) o custom"
    },
    "horizon_days": {
      "value": 14,
      "auto_apply_to_new_sku": true,
      "description": "Orizzonte fisso (giorni) se horizon_mode=custom"
    },
    "show_comparison": {
      "value": true,
      "auto_apply_to_new_sku": false,
      "description": "Mostra confronto MC anche quando forecast_method=simple"
    }
  },
  "auto_variability": {
    "enabled": {
      "value": true,
      "description": "Abilita classificazione automatica variabilit\u00e0 domanda"
    },
    "min_observations": {
      "value": 30,
      "description": "Minimo giorni vendita richiesti per classificazione"
    },
    "stable_percentile": {
      "value": 25,
      "description": "Percentile per soglia STABLE (CV <= Q1)"
    },
    "high_percentile": {
      "value": 75,
      "description": "Percentile per soglia HIGH (CV >= Q3)"
    },
    "seasonal_threshold": {
      "value": 0.3,
      "description": "Soglia autocorrelazione per rilevare SEASONAL (0-1)"
    },
    "fallback_category": {
      "value": "LOW",
      "description": "Categoria di default se dati insufficienti (LOW, STABLE, SEASONAL, HIGH)"
    }
  },
  "expiry_alerts": {
    "critical_threshold_days": {
      "value": 7,
      "description": "Giorni scadenza per stato CRITICO (arancione)"
    },
    "warning_threshold_days": {
      "value": 14,
      "description": "Giorni scadenza per stato ATTENZIONE (giallo)"
    }
  },
  "shelf_life_policy": {
    "enabled": {
      "value": true,
      "description": "Abilita integrazione shelf life nel motore riordino"
    },
    "min_shelf_life_global": {
      "value": 7,
      "auto_apply_to_new_sku": false,
      "description": "Giorni shelf life residua minima per vendita (globale, 0 = no constraint)"
    },
    "waste_penalty_mode": {
      "value": "soft",
      "auto_apply_to_new_sku": false,
      "description": "Modalit\u00e0 penalty per waste risk: soft (riduzione qty), hard (blocco ordine)"
    },
    "waste_penalty_factor": {
      "value": 0.5,
      "auto_apply_to_new_sku": false,
      "description": "Fattore riduzione quantit\u00e0 in soft penalty (0.0-1.0, 0.5 = -50%)"
    },
    "waste_risk_threshold": {
      "value": 15.0,
      "auto_apply_to_new_sku": false,
      "description": "Soglia waste risk % per attivare penalty (0-100)"
    },
    "waste_horizon_days": {
      "value": 21,
      "description": "Orizzonte giorni per calcolo waste risk (lead time + buffer)"
    },
    "category_overrides": {
      "value": {
        "STABLE": {
          "min_shelf_life_days": 7,
          "waste_penalty_factor": 0.3,
          "waste_risk_threshold": 20.0
        },
        "LOW": {
          "min_shelf_life_days": 5,
          "waste_penalty_factor": 0.5,
          "waste_risk_threshold": 15.0
        },
        "HIGH": {
          "min_shelf_life_days": 10,
          "waste_penalty_factor": 0.7,
          "waste_risk_threshold": 10.0
        },
        "SEASONAL": {
          "min_shelf_life_days": 7,
          "waste_penalty_factor": 0.6,
          "waste_risk_threshold": 12.0
        }
      },
      "description": "Override parametri per categoria demand_variability"
    }
  },
  "dashboard": {},
  "storage_backend": "sqlite"
}